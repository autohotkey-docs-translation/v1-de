<!DOCTYPE HTML>
<html>
<head>
<title>Joystick mit Tastatur oder Maus neu belegen</title>
<meta name="keywords" content="Grundlage">
<meta name="description" content="Bringt den Joystick mit dieser freien Scriptsprache dazu, Tastatureingaben und Mausklicks zu senden. Erm철glicht auch, einen Joystick als Maus zu verwenden.">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<link href="../static/font.css" rel="stylesheet" type="text/css" />
<script src="../static/ga.js" type="text/javascript"></script>
<script src="../navbar/NavScript.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">WriteHeader(1);</script>
<div id="content">
  <section>
    <article>
      <h1>Joystick mit Tastatur oder Maus neu belegen</h1>
      <h2>Inhaltsverzeichnis</h2>
      <ul>
        <li><a href="#imp">Wichtige Hinweise</a></li>
        <li><a href="#button">Mit einer Joystick-Taste Tastatureingaben oder Mausklicks senden</a></li>
        <li><a href="#axis">Mit einer Joystick-Achse oder einem Rundblickschalter Tastatureingaben oder Mausklicks senden</a></li>
        <li><a href="#Remarks">Bemerkungen</a></li>
      </ul>
      <h2 id="imp">Wichtige Hinweise</h2>
      <ul>
        <li>Obwohl eine Joystick-Taste oder -Achse mit einer Taste oder Maustaste neu belegt werden kann, ist es nicht m철glich, diese Taste/Achse mit anderen Joystick-Tasten oder -Achsen neu zubelegen. Das w채re nur mithilfe eines Joystick-Emulators wie <a href="http://www.autohotkey.com/forum/topic50596.html">PPJoy</a> m철glich.</li>
        <li>AutoHotkey identifiziert jede Joystick-Taste mit einer eindeutigen Zahl zwischen 1 und 32. Um diese Zahlen zu ermitteln, verwendet den <a href="../scripts/JoystickTest.htm">Joystick-Testscript</a>.</li>
      </ul>
      <h2 id="button">Mit einer Joystick-Taste Tastatureingaben oder Mausklicks senden</h2>
      <p>Hierbei sind drei Ans채tze, von einfach bis komplex. Die komplexeste Methode funktioniert mit der h철chsten Wahrscheinlichkeit (z. B. bei Spiele, in denen eine Taste oder Maustaste gedr체ckt gehalten werden muss).</p>
      <p><strong> Methode #1</strong>: Diese Methode sendet einfache Tastatureingaben und Mausklicks. Zum Beispiel:</p>
      <pre>Joy1::<a href="../commands/Send.htm">Send</a> {Left}  <em>; Mit der Taste #1 die linke Pfeiltaste senden.</em>
Joy2::<a href="../commands/Click.htm">Click</a>  <em>; Mit der Taste #2 die linke Maustaste senden.</em>
Joy3::Send a{Esc}{Space}{Enter}  <em>; Mit der Taste #3 die Taste "a" gefolgt von Escape, Leerzeichen und Enter senden.</em>
Joy4::Mit freundlichen Gr체&#376;en,{Enter}John Smith  <em>; Mit der Taste #4 eine zweizeilige Signatur senden.</em></pre>
      <p>Damit eine Taste mehr als einen Befehl senden kann, setzt den ersten Befehl <em>unter</em> den Tastennamen und f체gt als letzten Befehl ein <a href="../commands/Return.htm">Return</a> hinzu. Zum Beispiel:</p>
      <pre>Joy5::
Run Notepad
WinWait Unbenannt - Editor
WinActivate
Send Das ist der Text, der im Editor erscheinen wird.{Enter}
Return</pre>
      <p>In der <a href="../KeyList.htm">Tastenliste</a> k철nnen alle Tastennamen der Tastatur, Maus und des Joysticks gefunden werden.</p>
      <br>
      <p><strong>Methode #2</strong>: Diese Methode ist notwendig, wenn eine Taste oder Maustaste gedr체ckt gehalten werden muss, w채hrend eine Joystick-Taste gedr체ckt gehalten wird. Im folgenden Beispiel verh채lt sich die zweite Joystick-Taste wie die NACH-LINKS-Taste:</p>
      <pre>Joy2::
Send {Left down}  <em>; H채lt die linke Pfeiltaste gedr체ckt.</em>
<a href="../commands/KeyWait.htm">KeyWait</a> Joy2  <em>; Wartet, bis die Joystick-Taste losgelassen wird.</em>
Send {Left up}  <em>; L채sst die linke Pfeiltaste los.</em>
Return</pre>
      <br>
      <p><strong> Methode #3</strong>: Diese Methode ist notwendig, wenn mehr als ein Joystick-Hotkey von Methode #2 vorhanden ist und solche Hotkeys gleichzeitig gedr체ckt gehalten oder losgelassen werden m체ssen. Im folgenden Beispiel verh채lt sich die dritte Joystick-Taste wie die linke Maustaste:</p>
      <pre>Joy3::
Send {LButton down}   <em>; H채lt die linke Maustaste gedr체ckt.</em>
SetTimer, AufTaste3Warten, 10
Return

AufTaste3Warten:
If <a href="../Functions.htm#GetKeyState">GetKeyState</a>("Joy3")  <em>; Falls die Taste weiterhin gedr체ckt gehalten wird, warten.</em>
    Return
<em>; Ansonsten wurde die Taste losgelassen.</em>
Send {LButton up}   <em>; Die linke Maustaste loslassen.</em>
SetTimer, AufTaste3Warten, off
Return

</pre>
      <br>
      <p><strong>Automatische Wiederholung einer Tastatureingabe</strong>: Bei einigen Programmen oder Spiele muss eine Taste m철glicherweise mehrmals gesendet werden (wie als w체rde die Taste gedr체ckt gehalten werden). Mit dem folgenden Beispiel wird das erreicht, indem die Leertaste mehrmals gesendet wird, w채hrend die zweite Joystick-Taste gedr체ckt gehalten wird.</p>
      <pre>Joy2::
Send {Space down}   <em>; H채lt die Leertaste gedr체ckt.</em>
SetTimer, WaitForJoy2, <strong>30</strong>  <em>; Reduziert die Zahl <strong>30</strong> auf 20 oder 10, um die Taste schneller zu senden. Erh철ht sie, um die Taste langsamer zu senden.</em>
Return

AufJoy2Warten:
If not GetKeyState("Joy2")  <em>; Die Taste wurde losgelassen.</em>
{
    Send {Space up}  <em>; Leertaste loslassen.</em>
    SetTimer, AufJoy2Warten, off  <em>; &#339;berwachung der Taste stoppen.</em>
    Return
}
<em>; Da kein "Return" erfolgt, wird die Taste weiterhin gedr체ckt gehalten.</em>
Send {Space down}  <em>; Eine andere Leertaste senden.</em>
Return</pre>
      <p><strong>Kontextabh채ngige Joystick-Tasten</strong>: Die Direktiven <a href="../commands/_IfWinActive.htm">#IfWinActive/Exist</a> k철nnen verwendet werden, damit bestimmte Joystick-Tasten unterschiedliche Aktionen je nach Typ des aktiven oder vorhandenen Fensters durchf체hren.</p>
      <p><strong>Joystick als Maus verwenden</strong>: Das <a href="../scripts/JoystickMouse.htm">Joystick-zu-Maus-Script</a> wandelt ein Joystick durch Neubelegung der Tasten und Achsen-Steuerung in eine Maus um.</p>
      <h2 id="axis">Mit einer Joystick-Achse oder einem Rundblickschalter Tastatureingaben oder Mausklicks senden</h2>
      <p>Damit ein Script auf die Bewegung einer Joystick-Achse oder des Rundblickschalters reagiert, verwendet <a href="../commands/SetTimer.htm">SetTimer</a> und <a href="../commands/GetKeyState.htm">GetKeyState</a>. Im folgenden Beispiel verhalten sich die X- und Y-Achsen des Joysticks wie die Pfeiltasten auf der Tastatur (links, rechts, oben und unten):</p>
      <pre>#Persistent  <em>; H채lt das Script aufrecht, bis der Benutzer es direkt beendet.</em>
<a href="../commands/SetTimer.htm">SetTimer</a>, Achsen체berwachung, 5
Return

Achsen체berwachung:
<a href="../commands/GetKeyState.htm">GetKeyState</a>, JoyX, JoyX  <em>; Position der X-Achse ermitteln.</em>
GetKeyState, JoyY, JoyY  <em>; Position der Y-Achse ermitteln.</em>
VorherGedr체ckteTaste = %Gedr체ckteTaste%  <em>; VorherGedr체ckteTaste enth채lt nun die Taste, die vorher gedr체ckt wurde (falls vorhanden).</em>

If JoyX &gt; 70
    Gedr체ckteTaste = Right
Else If JoyX &lt; 30
    Gedr체ckteTaste = Left
Else If JoyY &gt; 70
    Gedr체ckteTaste = Down
Else If JoyY &lt; 30
    Gedr체ckteTaste = Up
Else
    Gedr체ckteTaste =

If Gedr체ckteTaste = %VorherGedr체ckteTaste%  <em>; Die richtige Taste wird bereits gedr체ckt (oder es ist keine Taste notwendig).</em>
    Return  <em>; Nichts machen.</em>

<em>; Ansonsten die vorherige Taste loslassen und neue Taste dr체cken:</em>
SetKeyDelay -1  <em>; Verhindert eine Verz철gerung zwischen den Tastatureingaben.</em>
If VorherGedr체ckteTaste   <em>; Vorherige Taste verf체gbar, die losgelassen werden kann.</em>
    Send, {%VorherGedr체ckteTaste% up}  <em>; Loslassen.</em>
If Gedr체ckteTaste   <em>; Taste verf체gbar, die gedr체ckt werden kann.</em>
    Send, {%Gedr체ckteTaste% down}  <em>; Dr체cken.</em>
Return</pre>
      <p>&nbsp;</p>
      <p>Im folgenden Beispiel verh채lt sich der Rundblickschalter des Joysticks wie die Pfeiltasten auf der Tastatur (links, rechts, oben und unten):</p>
      <pre>#Persistent  <em>; H채lt das Script aufrecht, bis der Benutzer es direkt beendet.</em>
SetTimer, POV&#339;berwachung, 5
Return

POV&#339;berwachung:
GetKeyState, POV, JoyPOV  <em>; Position der POV-Steuerung ermitteln.</em>
VorherGedr체ckteTaste = %Gedr체ckteTaste%  <em>; VorherGedr체ckteTaste enth채lt nun die Taste, die vorher gedr체ckt wurde (falls vorhanden).</em>

<em>; Einige Joysticks haben m철glicherweise eine reibungslose/stetige POV anstelle eines POVs in regelm채&#376;igen Abst채nden.
; Damit alle unterst체tzt werden, verwendet einen Bereich:</em>
If POV &lt; 0   <em>; Keine Achse zu melden</em>
    Gedr체ckteTaste =
Else If POV &gt; 31500                 <em>; 315 bis 360 Grad: Nach vorne gerichtet</em>
    Gedr체ckteTaste = Up
Else If POV between 0 and 4500      <em>; 0 bis 45 Grad: Nach vorne gerichtet</em>
    Gedr체ckteTaste = Up
Else If POV between 4501 and 13500  <em>; 45 bis 135 Grad: Nach rechts gerichtet</em>
    Gedr체ckteTaste = Right
Else If POV between 13501 and 22500 <em>; 135 bis 225 Grad: Nach hinten gerichtet</em>
    Gedr체ckteTaste = Down
Else                                <em>; 225 bis 315 Grad: Nach links gerichtet</em>
    Gedr체ckteTaste = Left

If Gedr체ckteTaste = %VorherGedr체ckteTaste%  <em>; Die richtige Taste wird bereits gedr체ckt (oder es ist keine Taste notwendig).</em>
    Return  <em>; Nichts machen.</em>

<em>; Ansonsten die vorherige Taste loslassen und neue Taste dr체cken:</em>
SetKeyDelay -1  <em>; Verhindert eine Verz철gerung zwischen den Tastatureingaben.</em>
If VorherGedr체ckteTaste   <em>; Vorherige Taste verf체gbar, die losgelassen werden kann.</em>
    Send, {%VorherGedr체ckteTaste% up}  <em>; Loslassen.</em>
If Gedr체ckteTaste   <em>; Taste verf체gbar, die gedr체ckt werden kann.</em>
    Send, {%Gedr체ckteTaste% down}  <em>; Dr체cken.</em>
Return</pre>
      <p>&nbsp;</p>
      <p><strong>Automatische Wiederholung einer Tastatureingabe</strong>: Die beiden oberen Beispiele k철nnen so ge채ndert werden, dass die Taste mehrmals gesendet wird, anstatt sie gedr체ckt zuhalten (d. h., dass der physische Tastendruck simuliert wird). Ersetzt daf체r die folgende Zeile:</p>
      <pre>Return  <em>; Nichts machen.</em></pre>
      <p>MIT:</p>
      <pre>{
    If Gedr체ckteTaste
        Send, {%Gedr체ckteTaste% down}  <em>; Automatische Wiederholung der Taste.</em>
    Return
}</pre>
      <h2 id="Remarks">Bemerkungen</h2>
      <p>Es kann ein beliebiger Joystick verwendet werden, indem der Taste oder dem Achsennamen die Nummer des Joysticks vorangestellt wird. Zum Beispiel ist <code>2Joy1</code> die erste Taste des zweiten Joysticks.</p>
      <p>Besucht das <a href="http://www.autohotkey.com/forum/">AutoHotkey-Forum</a> f체r weitere n체tzliche Joystick-Scripts. Mit Schl체sselw철rtern wie <em>Joystick und GetKeyState und Send</em> k철nnen interessante Themen gefunden werden.</p>
      <h2>Verwandte Befehle</h2>
      <p><a href="../scripts/JoystickMouse.htm">Joystick-zu-Maus-Script (ein Joystick als Maus verwenden)</a><br>
        <a href="../KeyList.htm#Joystick">Liste mit Tasten, Achsen und Steuerungen des Joysticks</a><br>
        <a href="../commands/GetKeyState.htm">GetKeyState</a><br>
        <a href="Remap.htm">Tastatur und Maus neubelegen</a></p>
    </article>
  </section>
</div>
</body>
</html>