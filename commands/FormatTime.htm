<!DOCTYPE HTML>
<html>
<head>
<title>FormatTime</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/jquery.js" type="text/javascript"></script>
<script src="../static/tree.jquery.js" type="text/javascript"></script>
<script src="../static/ga.js" type="text/javascript"></script>
<script src="../static/content.js" type="text/javascript"></script>
<style type="text/css">
<!--
.red {color: #FF0000}
-->
</style>
</head>
<body>

<h1>FormatTime</h1>

<p>Transformiert einen <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>-Zeitstempel in das angegebene Datum/Zeit-Format.</p>

<pre class="Syntax">FormatTime, AusgabeVar [, <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>, Format]</pre>
<h3>Parameter</h3>
<dl>

  <dt>AusgabeVar</dt>
  <dd><p>Name der Variable, in der das Ergebnis gespeichert werden soll.</p></dd>

  <dt>YYYYMMDD...</dt>
  <dd><p>Fehlt dieser Parameter, wird das aktuelle Datum und die aktuelle Zeit verwendet. Ansonsten können die vorderen oder alle Teile eines Zeitstempels im <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>-Format angegeben werden. Wenn der Datums- und/oder Zeitbereich ungültig ist (z. B. der 29. Februar eines Nicht-Schaltjahrs) wird das Datum und/oder die Zeit in <em>AusgabeVar</em> weggelassen. Zwar werden nur die Jahre zwischen 1601 und 9999 unterstützt, allerdings kann man auch eine formatierte Zeit für die früheren Jahre erzeugen, solange der Zeitbereich gültig ist.</p></dd>

  <dt>Format</dt>
  <dd><p>Fehlt dieser Parameter, gilt standardmäßig die Zeit gefolgt vom langen Datumsformat, die beide abhängig vom aktuellen Gebietsschema des Benutzers sind. Zum Beispiel: 10:24 Freitag, 30. April 2010</p>
      <p>Ansonsten können ein oder mehrere Datum-Zeit-Formate von unten angegeben werden, mit beliebigen literalen Leer- und Satzzeichen dazwischen (Kommas müssen nicht mit einem Escapezeichen versehen werden; sie können normal verwendet werden). Beachte im folgenden Beispiel, dass das M großgeschrieben werden muss: d.M.yyyy h:mm:tt</p></dd>

</dl>

<h3>Datumsformate <span class="red">(zeichengenau)</span></h3>
<table class="info">
  <tr>
    <td>d</td>
    <td>Monatstag ohne Null davor (1 - 31)</td>
  </tr>
  <tr>
    <td>dd</td>
    <td>Monatstag mit Null davor (01 - 31)</td>
  </tr>
  <tr>
    <td width="15%">ddd</td>
    <td width="85%">Abgekürzter Name des Wochentags (z. B. Mon) in der aktuellen Sprache des Benutzers</td>
  </tr>
  <tr>
    <td>dddd</td>
    <td>Vollständiger Name des Wochentags (z. B. Montag) in der aktuellen Sprache des Benutzers</td>
  </tr>
  <tr>
    <td>M</td>
    <td>Monat ohne Null davor (1 - 12)</td>
  </tr>
  <tr>
    <td>MM</td>
    <td>Monat mit Null davor (01 - 12)</td>
  </tr>
  <tr>
    <td>MMM</td>
    <td>Abgekürzter Name des Monats (z. B. Jan) in der aktuellen Sprache des Benutzers</td>
  </tr>
  <tr>
    <td>MMMM</td>
    <td>Vollständiger Name des Monats (z. B. Januar) in der aktuellen Sprache des Benutzers</td>
  </tr>
  <tr>
    <td>y</td>
    <td>Jahr ohne Jahrhundert und ohne Null davor (0 - 99)</td>
  </tr>
  <tr>
    <td>yy</td>
    <td>Jahr ohne Jahrhundert und mit Null davor (00 - 99)</td>
  </tr>
  <tr>
    <td>yyyy</td>
    <td>Jahr mit Jahrhundert. Zum Beispiel: 2005</td>
  </tr>
  <tr>
    <td>gg</td>
    <td>Periode/Epoche in Abhängigkeit des aktuellen Gebietsschemas des Benutzers (z. B.: n. Chr.)</td>
  </tr>
</table>
<h3>Zeitformate <span class="red">(zeichengenau)</span></h3>
<table class="info">
  <tr>
    <td>h</td>
    <td>Stunden ohne Null davor; 12-Stunden-Format (1 - 12)</td>
  </tr>
  <tr>
    <td>hh</td>
    <td>Stunden mit Null davor; 12-Stunden-Format (01 - 12)</td>
  </tr>
  <tr>
    <td width="15%">H</td>
    <td width="85%">Stunden ohne Null davor; 24-Stunden-Format (0 - 23)</td>
  </tr>
  <tr>
    <td>HH</td>
    <td>Stunden mit Null davor; 24-Stunden-Format (00 - 23)</td>
  </tr>
  <tr>
    <td>m</td>
    <td>Minuten ohne Null davor (0 - 59)</td>
  </tr>
  <tr>
    <td>mm</td>
    <td>Minuten mit Null davor (00 - 59)</td>
  </tr>
  <tr>
    <td>s</td>
    <td>Sekunden ohne Null davor (0 - 59)</td>
  </tr>
  <tr>
    <td>ss</td>
    <td>Sekunden mit Null davor (00 - 59)</td>
  </tr>
  <tr>
    <td>t</td>
    <td>Einzelzeichen für die Zeitangabe, wie A oder P (abhängig vom Gebietsschema)</td>
  </tr>
  <tr>
    <td>tt</td>
    <td>Mehrfachzeichen für die Zeitangabe, wie AM oder PM (abhängig vom Gebietsschema)</td>
  </tr>
</table>
<h3>Folgende Formate dürfen nur <span class="red">alleinstehend</span> sein; also ohne dass andere Formate oder Texte im <em>Format</em>-Parameter vorkommen. Diese Formate unterscheiden nicht zwischen Groß- und Kleinschreibung.</h3>
<table class="info">
  <tr>
    <td>(Leer)</td>
    <td>Lass <em>Format</em> leer, um die Zeit gefolgt vom langen Datumsformat zu erzeugen. In einigen Gebietsschemen wäre das beispielsweise "10:24 Freitag, 30. April 2010".</td>
  </tr>
  <tr>
    <td>Time</td>
    <td>Zeitdarstellung in Abhängigkeit des aktuellen Gebietsschemas des Benutzers (z. B. 12:04)</td>
  </tr>
  <tr>
    <td width="15%">ShortDate</td>
    <td width="85%">Kurzes Datumsformat in Abhängigkeit des aktuellen Gebietsschemas des Benutzers (z. B. 30.04.2010)</td>
  </tr>
  <tr>
    <td>LongDate</td>
    <td>Langes Datumsformat in Abhängigkeit des aktuellen Gebietsschemas des Benutzers (z. B. Freitag, 30. April 2010)</td>
  </tr>
  <tr>
    <td>YearMonth</td>
    <td>Jahr und Monat in Abhängigkeit des aktuellen Gebietsschemas des Benutzers (z. B. April 2010)</td>
  </tr>
  <tr>
    <td>YDay</td>
    <td>Jahrestag ohne Nullen davor (1 - 366)</td>
  </tr>
  <tr>
    <td>YDay0</td>
    <td>Jahrestag mit Nullen davor (001 - 366)</td>
  </tr>
  <tr>
    <td>WDay</td>
    <td>Wochentag (1 - 7). Sonntag ist der 1. Tag einer Woche.</td>
  </tr>
  <tr>
    <td>YWeek</td>
    <td>Das vollständige Jahr und die Wochennummer nach ISO 8601. Zum Beispiel: 200453. Wenn die Woche, die den 1. Januar hat, vier oder mehr Tage des neuen Jahres enthält, wird sie als Woche 1 angesehen. Ansonsten ist sie die letzte Woche des vorherigen Jahres und die nachfolgende Woche die Woche 1. Folglich sind sowohl der 4. Januar als auch der erste Donnerstag im Januar immer in der 1. Woche.</td>
  </tr>
</table>
<h3>Zusätzliche Optionen</h3>
<p>Die folgenden Optionen können nach dem Zeitstempel im <em>YYYYMMDDHH24MISS</em>-Parameter erfolgen (gibt es keinen Zeitstempel, können diese Optionen auch alleine stehen). Beachte im folgenden Beispiel, dass Kommas zwischen den letzten vier Elementen fehlen:</p>
<pre>FormatTime, AusgabeVar, 20100430 LSys D1 D4</pre>
<p><strong>R</strong>: Umkehren. Zeigt das Datum vor der Zeit an (nur sinnvoll, wenn <em>Format</em> leer ist).</p>
<p><strong>Ln</strong>: <em>Fehlt</em> diese Option, wird das aktuelle Gebietsschema des Benutzers zum Formatieren des Strings verwendet. Um stattdessen das aktuelle Gebietsschema des Betriebssystems zu verwenden, muss LSys angegeben werden. Um ein spezifisches Gebietsschema zu verwenden, muss der Buchstabe L gefolgt einer dezimalen oder hexadezimalen Gebietsschema-ID (LCID) angegeben werden. Informationen darüber, wie man eine LCID zusammensetzt, findest du auf <a href="http://www.microsoft.com">www.microsoft.com</a> mit dem folgenden Suchbegriff: Locale Identifiers</p>
<p><strong>Dn</strong>: Datumsoptionen. Ersetze <strong>n</strong> mit eine der folgenden Zahlen:<br>
  0: Erzwingt die Verwendung der Standardoptionen. Dies würde auch das kurze Datumsformat in Kraft treten lassen. <br>
  1: Verwendet das kurze Datumsformat (nur sinnvoll, wenn <em>Format</em> leer ist; nicht kompatibel mit 2 und 8).<br>
  2: Verwendet das lange Datumsformat (nur sinnvoll, wenn <em>Format</em> leer ist; nicht kompatibel mit 1 und 8).<br>
  4: Verwendet einen alternativen Kalender (falls vorhanden).<br>
  8: Verwendet das Jahr-Monat-Format (nur sinnvoll, wenn <em>Format</em> leer ist; nicht kompatibel mit 1 und 2).<br>
  0x10: Fügt Markierungen für das Links-nach-Rechts-Leselayout hinzu.<br>
  0x20: Fügt Markierungen für das Rechts-nach-Links-Leselayout hinzu.<br>
  0x80000000: Ignoriert überschriebene Einstellungen, die der Benutzer beim Standard-Datumsformat des Betriebssystems haben könnte. <br>
0x40000000: Verwendet den ANSI-Zeichensatz des Betriebssystems zum Übersetzen des Strings, anstatt den Zeichensatz des aktuellen Gebietschemas des Benutzers.</p>
<p><strong>Tn</strong>: Zeitoptionen. Ersetze <strong>n</strong> mit eine der folgenden Zahlen:<br>
  0: Erzwingt die Verwendung der Standardoptionen. Dies würde auch die Minuten und Sekunden anzeigen.<br>
  1: Lässt die Minuten und Sekunden weg.<br>
  2: Lässt die Sekunden weg. <br>
  4: Lässt die Zeitangabe (z. B. AM/PM) weg.<br>
  8: Verwendet immer das 24-Stunden-Format, anstatt das 12-Stunden-Format.<br>
  12: Kombination aus 4 und 8.<br>
  0x80000000: Ignoriert überschriebene Einstellungen, die der Benutzer beim Standard-Zeitformat des Betriebssystems haben könnte. <br>
  0x40000000: Verwendet den ANSI-Zeichensatz des Betriebssystems zum Übersetzen des Strings, anstatt den Zeichensatz des aktuellen Gebietschemas des Benutzers.</p>
<p><strong>Hinweis</strong>: Das folgende Beispiel zeigt, wie Dn und Tn mehrmals verwendet werden können, um mehr als eine Option in Kraft treten zu lassen: <code>FormatTime, AusgabeVar, 20040228 D2 D4 T1 T8</code></p>
<h3 id="Remarks">Bemerkungen</h3>
<p>Buchstaben und Zahlen, die du literal von <em>Format</em> nach <em>AusgabeVar</em> übertragen willst, sollten wie folgt mit Hochkommas umschlossen werden: <code>'Datum:' MM/dd/yy 'Zeit:' hh:mm:ss tt</code>.</p>
<p>Dagegen müssen nicht-alphanumerische Zeichen wie Leerzeichen, Tabulatoren, LF-Zeichen (`n), Schrägstriche, Doppelpunkte, Kommas und sonstige Satzzeichen nicht mit Hochkommas umschlossen werden. Die Ausnahme ist das Hochkomma selbst: Um dieses Zeichen literal darstellen zu können, müssen vier aufeinanderfolgende Hochkommas ('''') verwendet werden, oder nur zwei, wenn das Hochkomma sich bereits innerhalb von zwei äußeren Hochkommas befindet.</p>
<p>Enthält <em>Format</em> Datum- und Zeitelemente, dürfen sie nicht vermischt werden. Das heißt, dass der String in zwei Hälften aufgeteilt werden sollte: Zeit in die eine Hälfte und Datum in die andere Hälfte. Zum Beispiel würde ein Formatstring, bestehend aus "hh yyyy mm", nicht das erwartete Ergebnis liefern, weil zwischen den Zeitelementen ein Datumselement vorkommt.</p>
<p>Enthält <em>Format</em> einen numerischen Monatstag (d oder dd) gefolgt von einem vollständigen Monatsnamen (MMMM), wird der Genitiv des Monatsnamens verwendet (wenn die Sprache einen Genitiv besitzt).</p>
<p>Enthält <em>Format</em> mehr als 2000 Zeichen, wird <em>AusgabeVar</em> leer gemacht.</p>
<p>Beachte zudem, dass Addition und Subtraktion von Datum und Zeit mit <a href="EnvAdd.htm">EnvAdd</a> und <a href="EnvSub.htm">EnvSub</a> durchgeführt werden können.</p>
<h3>Siehe auch</h3>
<p>Um die Umwandlung in die umgekehrte Richtung zu ermöglichen - also <em>von</em> formatiertem Datum/Zeit-String <em>zum</em> <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>-Format - siehe <a href="http://www.autohotkey.com/forum/topic20405.html">Forumsbeitrag: "Date Parser"</a></p>
<p>Siehe auch: <a href="GuiControls.htm#DateTime">DateTime-Steuerelement</a>, <a href="SetFormat.htm">SetFormat</a>, <a href="Transform.htm">Transform</a>, <a href="../Variables.htm#date">integrierte Datums- und Zeitvariablen</a>, <a href="FileGetTime.htm">FileGetTime</a></p>
<h3>Beispiele</h3>
<pre class="NoIndent">FormatTime, Zeitstring
MsgBox Uhrzeit und Datum (Zeit zuerst) ist aktuell %Zeitstring%.

FormatTime, Zeitstring, R
MsgBox Uhrzeit und Datum (Datum zuerst) ist aktuell %Zeitstring%.

FormatTime, Zeitstring,, Time
MsgBox Uhrzeit ist aktuell %Zeitstring%.

FormatTime, Zeitstring, T12, Time
MsgBox 24-Stunden-Uhrzeit ist aktuell %Zeitstring%.

FormatTime, Zeitstring,, LongDate
MsgBox Datum (Langformat) ist aktuell %Zeitstring%.

FormatTime, Zeitstring, 20050423220133, dddd MMMM d, yyyy hh:mm:ss tt
MsgBox Datum und Uhrzeit ist nach dem Formatieren %Zeitstring%.

FormatTime, Zeitstring, 200504, 'Monatsname': MMMM`n'Tagesname': dddd
MsgBox %Zeitstring%

FormatTime, Jahreswoche, 20050101, YWeek
MsgBox Der 1. Januar 2005 hat das folgende Jahr und die Wochennummer nach ISO: %Jahreswoche%</pre>

<pre class="NoIndent"><em>; Ändert den Zeitstempel einer Datei:</em>
FileSelectFile, Dateiname, 3,, Datei auswählen,
if Dateiname =  <em>; Der Benutzer hat keine Datei ausgewählt.</em>
    return
FileGetTime, Dateizeitstempel, %Dateiname%
FormatTime, Dateizeitstempel, %Dateizeitstempel%   <em>; Da der letzte Parameter fehlt, gilt das lange Datums- und Zeitformat.</em>
MsgBox die ausgewählte Datei wurde zuletzt am %Dateizeitstempel% modifiziert.</pre>

<pre class="NoIndent"><em>; Die folgende Funktion wandelt die angegebene Anzahl an Sekunden in
; Stunden, Minuten und Sekunden um (hh:mm:ss-Format).</em>

MsgBox % FormatiereSekunden(7384)  <em>; 7384 = 2 Stunden + 3 Minuten + 4 Sekunden. Rückgabewert: 2:03:04</em>

FormatiereSekunden(AnzahlAnSekunden)  <em>; Wandelt eine Zahl in das hh:mm:ss-Format um.</em>
{
    Zeit = 19990101  <em>; *Mitternacht* eines beliebigen Datums.</em>
    Zeit += %AnzahlAnSekunden%, seconds
    FormatTime, mmss, %Zeit%, mm:ss
    return AnzahlAnSekunden//3600 ":" mmss
    <em>/*
    ; Im Gegensatz zur oberen Methode würde die folgende nicht mehr als 24 Stunden im Wert von Sekunden unterstützen:
    FormatTime, hmmss, %Zeit%, h:mm:ss
    return hmmss
    */</em>
}</pre>

</body>
</html>
